{"version":3,"file":"lib.js","sources":["../../src/api/analytics.js","../../src/modules/options.js","../../src/modules/analytics.js","../../src/ChartPlugin.js","../../src/widgets/LoadingMask.js","../../src/styles/PivotPlugin.style.js","../../src/PivotPlugin.js","../../src/index.js"],"sourcesContent":["const peId = 'pe'\n\nexport const apiFetchAnalytics = async (d2, current, options) => {\n    const req = new d2.analytics.request()\n        .fromModel(current)\n        .withParameters(options)\n\n    const rawResponse = await d2.analytics.aggregate.get(req)\n\n    return [new d2.analytics.response(rawResponse)]\n}\n\nexport const apiFetchAnalyticsForYearOverYear = async (\n    d2,\n    current,\n    options\n) => {\n    let yearlySeriesReq = new d2.analytics.request()\n        .addPeriodDimension(current.yearlySeries)\n        .withSkipData(true)\n        .withSkipMeta(false)\n        .withIncludeMetadataDetails(true)\n\n    if (options.relativePeriodDate) {\n        yearlySeriesReq = yearlySeriesReq.withRelativePeriodDate(\n            options.relativePeriodDate\n        )\n    }\n\n    const yearlySeriesRes = await d2.analytics.aggregate.fetch(yearlySeriesReq)\n\n    const requests = []\n    const yearlySeriesLabels = []\n\n    const now = new Date()\n    const currentDay = ('' + now.getDate()).padStart(2, 0)\n    const currentMonth = ('' + (now.getMonth() + 1)).padStart(2, 0)\n\n    yearlySeriesRes.metaData.dimensions[peId].forEach(period => {\n        yearlySeriesLabels.push(yearlySeriesRes.metaData.items[period].name)\n\n        const startDate = `${period}-${currentMonth}-${currentDay}`\n\n        const req = new d2.analytics.request()\n            .fromModel(current)\n            .withParameters(options)\n            .withRelativePeriodDate(startDate)\n\n        requests.push(d2.analytics.aggregate.get(req))\n    })\n\n    return Promise.all(requests).then(responses => ({\n        responses: responses.map(res => new d2.analytics.response(res)),\n        yearlySeriesLabels,\n    }))\n}\n","import pick from 'lodash-es/pick'\n\nexport const options = {\n    baseLineLabel: { defaultValue: undefined, requestable: false },\n    baseLineValue: { defaultValue: undefined, requestable: false },\n    // colorSet:\n    cumulativeValues: { defaultValue: false, requestable: false },\n    domainAxisLabel: { defaultValue: undefined, requestable: false },\n    hideEmptyRowItems: { defaultValue: 'NONE', requestable: false },\n    hideLegend: { defaultValue: false, requestable: false },\n    noSpaceBetweenColumns: { defaultValue: false, requestable: false },\n    percentStackedValues: { defaultValue: false, requestable: false },\n    rangeAxisDecimals: { defaultValue: undefined, requestable: false },\n    rangeAxisLabel: { defaultValue: undefined, requestable: false },\n    rangeAxisMaxValue: { defaultValue: undefined, requestable: false },\n    rangeAxisMinValue: { defaultValue: undefined, requestable: false },\n    rangeAxisSteps: { defaultValue: undefined, requestable: false },\n    regressionType: { defaultValue: 'NONE', requestable: false },\n    showData: { defaultValue: true, requestable: false },\n    targetLineLabel: { defaultValue: undefined, requestable: false },\n    targetLineValue: { defaultValue: undefined, requestable: false },\n    // legendDisplayStrategy\n    // legendSet\n    aggregationType: { defaultValue: 'DEFAULT', requestable: true },\n    completedOnly: { defaultValue: false, requestable: true },\n    hideSubtitle: { defaultValue: false, requestable: false },\n    hideTitle: { defaultValue: false, requestable: false },\n    sortOrder: { defaultValue: '0', requestable: false },\n    subtitle: { defaultValue: undefined, requestable: false },\n    title: { defaultValue: undefined, requestable: false },\n\n    // only for PT XXX\n    colTotals: { defaultValue: false, requestable: false },\n    colSubTotals: { defaultValue: false, requestable: false },\n    rowTotals: { defaultValue: false, requestable: false },\n    rowSubTotals: { defaultValue: false, requestable: false },\n    showDimensionLabels: { defaultValue: false, requestable: false },\n    hideEmptyColumns: { defaultValue: false, requestable: true },\n    hideEmptyRows: { defaultValue: false, requestable: true },\n    skipRounding: { defaultValue: false, requestable: true },\n    numberType: { defaultValue: 'VALUE', requestable: false },\n    showHierarchy: { defaultValue: false, requestable: true },\n    legendSet: { defaultValue: 'NONE', requestable: false }, // XXX can be 'BY_DATA_ITEM'\n    legendDisplayStyle: { defaultValue: 'FILL', requestable: false },\n    displayDensity: { defaultValue: 'NORMAL', requestable: false },\n    fontSize: { defaultValue: 'NORMAL', requestable: false },\n    digitGroupSeparator: { defaultValue: 'SPACE', requestable: false },\n\n    // XXX these are stored in the AO under reportParams\n    paramReportingPeriod: { defaultValue: false, requestable: false },\n    paramOrganisationUnit: { defaultValue: false, requestable: false },\n    paramParentOrganisationUnit: { defaultValue: false, requestable: false },\n    // XXX not in UI\n    paramGrandParentOrganisationUnit: {\n        defaultValue: false,\n        requestable: false,\n    },\n    regression: { defaultValue: false, requestable: false },\n    cumulative: { defaultValue: false, requestable: false },\n    measureCriteria: { defaultValue: undefined, requestable: true },\n    topLimit: { defaultValue: '0', requestable: false },\n}\n\nexport const computedOptions = {\n    baseLine: { defaultValue: false, requestable: false },\n    targetLine: { defaultValue: false, requestable: false },\n    axisRange: { defaultValue: undefined, requestable: false },\n}\n\nexport default options\n\nexport const getOptionsForUi = () => {\n    return Object.entries({ ...options, ...computedOptions }).reduce(\n        (map, [option, props]) => {\n            map[option] = props.defaultValue\n\n            return map\n        },\n        {}\n    )\n}\n\nexport const getOptionsForRequest = () => {\n    return Object.entries(options).filter(\n        entry => entry[1].requestable // entry = [option, props]\n    )\n}\n\nconst isNotDefault = (optionsFromVisualization, prop) => {\n    return Boolean(\n        optionsFromVisualization[prop] &&\n            optionsFromVisualization[prop] !== options[prop].defaultValue\n    )\n}\n\nexport const getOptionsFromVisualization = visualization => {\n    const optionsFromVisualization = {\n        ...getOptionsForUi(),\n        ...pick(visualization, Object.keys(options)),\n    }\n\n    optionsFromVisualization.baseLine =\n        isNotDefault(optionsFromVisualization, 'baseLineLabel') ||\n        isNotDefault(optionsFromVisualization, 'baseLineValue')\n\n    optionsFromVisualization.targetLine =\n        isNotDefault(optionsFromVisualization, 'targetLineLabel') ||\n        isNotDefault(optionsFromVisualization, 'targetLineValue')\n\n    // nested options under reportParams\n    if (visualization.reportParams) {\n        optionsFromVisualization.paramOrganisationUnit =\n            visualization.reportParams.paramOrganisationUnit\n        optionsFromVisualization.paramReportingPeriod =\n            visualization.reportParams.paramReportingPeriod\n        optionsFromVisualization.paramParentOrganisationUnit =\n            visualization.reportParams.paramParentOrganisationUnit\n        optionsFromVisualization.paramGrandParentOrganisationUnit =\n            visualization.reportParams.paramGrandParentOrganisationUnit\n    }\n\n    return optionsFromVisualization\n}\n","export const computeGenericPeriodNames = responses => {\n    const xAxisRes = responses.reduce((out, res) => {\n        if (out.metaData) {\n            if (\n                res.metaData.dimensions.pe.length >\n                out.metaData.dimensions.pe.length\n            ) {\n                out = res\n            }\n        } else {\n            out = res\n        }\n\n        return out\n    }, {})\n\n    const metadata = xAxisRes.metaData\n\n    return metadata.dimensions.pe.reduce((genericPeriodNames, periodId) => {\n        const name = metadata.items[periodId].name\n\n        // until the day the backend will support this in the API:\n        // trim off the trailing year in the period name\n        // english names should all have the year at the end of the string\n        genericPeriodNames.push(name.replace(/\\s+\\d{4}$/, ''))\n\n        return genericPeriodNames\n    }, [])\n}\n","import React, { Component, Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport isEqual from 'lodash-es/isEqual'\nimport i18n from '@dhis2/d2-i18n'\nimport {\n    isYearOverYear,\n    isSingleValue,\n    createVisualization,\n} from '@dhis2/analytics'\n\nimport {\n    apiFetchAnalytics,\n    apiFetchAnalyticsForYearOverYear,\n} from './api/analytics'\nimport { getOptionsForRequest } from './modules/options'\nimport { computeGenericPeriodNames } from './modules/analytics'\n\nclass ChartPlugin extends Component {\n    constructor(props) {\n        super(props)\n\n        this.canvasRef = React.createRef()\n\n        this.recreateVisualization = Function.prototype\n\n        this.state = {\n            isLoading: true,\n        }\n    }\n\n    componentDidMount() {\n        this.renderChart()\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!isEqual(this.props.config, prevProps.config)) {\n            this.renderChart()\n            return\n        }\n\n        if (!isEqual(this.props.filters, prevProps.filters)) {\n            this.renderChart()\n            return\n        }\n\n        // id set by DV app, style works in dashboards\n        if (\n            this.props.id !== prevProps.id ||\n            !isEqual(this.props.style, prevProps.style)\n        ) {\n            this.recreateVisualization(0) // disable animation\n            return\n        }\n    }\n\n    getRequestOptions = (visualization, filters) => {\n        const options = getOptionsForRequest().reduce(\n            (map, [option, props]) => {\n                // only add parameter if value !== default\n                if (\n                    visualization[option] !== undefined &&\n                    visualization[option] !== props.defaultValue\n                ) {\n                    map[option] = visualization[option]\n                }\n\n                return map\n            },\n            {}\n        )\n\n        // interpretation filter\n        if (filters.relativePeriodDate) {\n            options.relativePeriodDate = filters.relativePeriodDate\n        }\n\n        // global filters\n        // userOrgUnit\n        if (filters.userOrgUnit && filters.userOrgUnit.length) {\n            const ouIds = filters.userOrgUnit.map(\n                ouPath => ouPath.split('/').slice(-1)[0]\n            )\n\n            options.userOrgUnit = ouIds.join(';')\n        }\n\n        return options\n    }\n\n    renderChart = async () => {\n        const {\n            config: visualization,\n            filters,\n            forDashboard,\n            onResponsesReceived,\n            onChartGenerated,\n            onError,\n            onLoadingComplete,\n        } = this.props\n\n        try {\n            const options = this.getRequestOptions(visualization, filters)\n\n            const extraOptions = {\n                dashboard: forDashboard,\n                noData: { text: i18n.t('No data') },\n            }\n\n            let responses = []\n\n            if (isYearOverYear(visualization.type)) {\n                let yearlySeriesLabels = []\n\n                ;({\n                    responses,\n                    yearlySeriesLabels,\n                } = await apiFetchAnalyticsForYearOverYear(\n                    this.props.d2,\n                    visualization,\n                    options\n                ))\n\n                extraOptions.yearlySeries = yearlySeriesLabels\n                extraOptions.xAxisLabels = computeGenericPeriodNames(responses)\n            } else {\n                responses = await apiFetchAnalytics(\n                    this.props.d2,\n                    visualization,\n                    options\n                )\n            }\n\n            if (responses.length) {\n                onResponsesReceived(responses)\n            }\n\n            this.recreateVisualization = (animation = this.props.animation) => {\n                const visualizationConfig = createVisualization(\n                    responses,\n                    visualization,\n                    this.canvasRef.current,\n                    {\n                        ...extraOptions,\n                        animation,\n                    },\n                    undefined,\n                    undefined,\n                    isSingleValue(visualization.type) ? 'dhis' : 'highcharts' // output format\n                )\n\n                if (isSingleValue(visualization.type)) {\n                    onChartGenerated(visualizationConfig.visualization)\n                } else {\n                    onChartGenerated(\n                        visualizationConfig.visualization.getSVGForExport({\n                            sourceHeight: 768,\n                            sourceWidth: 1024,\n                        })\n                    )\n                }\n            }\n\n            this.recreateVisualization()\n\n            this.setState({ isLoading: false })\n            onLoadingComplete()\n        } catch (error) {\n            onError(error)\n        }\n    }\n\n    render() {\n        return (\n            <Fragment>\n                <div ref={this.canvasRef} style={this.props.style} />\n            </Fragment>\n        )\n    }\n}\n\nChartPlugin.defaultProps = {\n    config: {},\n    filters: {},\n    forDashboard: false,\n    style: {},\n    animation: 200,\n    onError: Function.prototype,\n    onChartGenerated: Function.prototype,\n    onLoadingComplete: Function.prototype,\n    onResponsesReceived: Function.prototype,\n}\n\nChartPlugin.propTypes = {\n    config: PropTypes.object.isRequired,\n    d2: PropTypes.object.isRequired,\n    onError: PropTypes.func.isRequired,\n    animation: PropTypes.number,\n    filters: PropTypes.object,\n    forDashboard: PropTypes.bool,\n    id: PropTypes.number,\n    style: PropTypes.object,\n    onChartGenerated: PropTypes.func,\n    onLoadingComplete: PropTypes.func,\n    onResponsesReceived: PropTypes.func,\n}\n\nexport default ChartPlugin\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withStyles } from '@material-ui/core/styles'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst styles = theme => ({\n    progress: {\n        margin: theme.spacing.unit * 2,\n        maxWidth: 200,\n        textAlign: 'center',\n        alignSelf: 'center',\n    },\n    outer: {\n        display: 'flex',\n        justifyContent: 'center',\n        height: '100%',\n    },\n})\n\nfunction CircularIndeterminate(props) {\n    const { classes } = props\n    return (\n        <div className={classes.outer}>\n            <CircularProgress className={classes.progress} />\n        </div>\n    )\n}\n\nCircularIndeterminate.propTypes = {\n    classes: PropTypes.object.isRequired,\n}\n\nexport default withStyles(styles)(CircularIndeterminate)\n","import css from 'styled-jsx/css'\n\nexport const pivotTableStyles = css.global`\n    .pivot td {\n        border: 1px solid #b2b2b2;\n        padding: 5px;\n    }\n\n    .pivot-empty {\n        background-color: #cddaed;\n    }\n\n    .pivot-dim {\n        background-color: #dae6f8;\n        text-align: center;\n    }\n\n    .pivot-dim-total {\n        background-color: #bac6d8;\n        text-align: center;\n    }\n\n    .pivot-value {\n        background-color: #fff;\n        text-align: right;\n    }\n\n    .pivot-value-total-subgrandtotal {\n        background-color: #d8d8d8;\n        white-space: nowrap;\n        text-align: right;\n    }\n\n    .pointer {\n        cursor: pointer;\n    }\n`\n","import React, { Component, Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport isEqual from 'lodash-es/isEqual'\nimport i18n from '@dhis2/d2-i18n'\nimport {\n    api as d2aApi,\n    table as d2aTable,\n    config as d2aConfig,\n    Layout as d2aLayout,\n    Response as d2aResponse,\n} from 'd2-analysis'\nimport { apiFetchAnalytics } from './api/analytics'\nimport { getOptionsForRequest } from './modules/options'\nimport LoadingMask from './widgets/LoadingMask'\n\nimport { pivotTableStyles } from './styles/PivotPlugin.style.js'\n\nclass PivotPlugin extends Component {\n    constructor(props) {\n        super(props)\n\n        this.canvasRef = React.createRef()\n\n        this.recreateVisualization = Function.prototype\n\n        this.state = {\n            isLoading: true,\n        }\n    }\n\n    componentDidMount() {\n        this.renderTable()\n    }\n\n    componentDidUpdate(prevProps) {\n        if (!isEqual(this.props.config, prevProps.config)) {\n            this.renderTable()\n            return\n        }\n\n        if (!isEqual(this.props.filters, prevProps.filters)) {\n            this.renderTable()\n            return\n        }\n\n        // id set by DV app, style works in dashboards\n        if (\n            this.props.id !== prevProps.id ||\n            !isEqual(this.props.style, prevProps.style)\n        ) {\n            this.recreateVisualization(0) // disable animation\n            return\n        }\n    }\n\n    getRequestOptions = (visualization, filters) => {\n        const options = getOptionsForRequest().reduce(\n            (map, [option, props]) => {\n                // only add parameter if value !== default\n                if (\n                    visualization[option] !== undefined &&\n                    visualization[option] !== props.defaultValue\n                ) {\n                    map[option] = visualization[option]\n                }\n\n                return map\n            },\n            {}\n        )\n\n        // interpretation filter\n        if (filters.relativePeriodDate) {\n            options.relativePeriodDate = filters.relativePeriodDate\n        }\n\n        // global filters\n        // userOrgUnit\n        if (filters.userOrgUnit && filters.userOrgUnit.length) {\n            const ouIds = filters.userOrgUnit.map(\n                ouPath => ouPath.split('/').slice(-1)[0]\n            )\n\n            options.userOrgUnit = ouIds.join(';')\n        }\n\n        return options\n    }\n\n    renderTable = async () => {\n        const {\n            config: visualization,\n            filters,\n            onResponsesReceived,\n            onError,\n        } = this.props\n\n        const i18nManager = {\n            get: string => i18n.t(string),\n        }\n\n        const appManager = {\n            getLegendSetById: () => '',\n            getApiPath: () => '',\n        }\n\n        const uiManager = {}\n\n        const d2aOptionConfig = new d2aConfig.OptionConfig()\n        d2aOptionConfig.setI18nManager(i18nManager)\n        d2aOptionConfig.init()\n\n        const refs = {\n            api: d2aApi,\n            appManager,\n            uiManager,\n            i18nManager,\n            optionConfig: d2aOptionConfig,\n        }\n\n        try {\n            const options = this.getRequestOptions(visualization, filters)\n\n            const responses = await apiFetchAnalytics(\n                this.props.d2,\n                visualization,\n                options\n            )\n\n            if (responses.length) {\n                onResponsesReceived(responses)\n            }\n\n            this.recreateVisualization = () => {\n                const remappedOptions = {\n                    showColTotals: visualization.colTotals,\n                    showRowTotals: visualization.rowTotals,\n                    showColSubTotals: visualization.colSubTotals,\n                    showRowSubTotals: visualization.rowSubTotals,\n                    numberType: visualization.numberType || 'VALUE', // TODO read default from options, perhaps better idea is to compute layout content in app\n                }\n\n                const layout = new d2aLayout(\n                    refs,\n                    visualization,\n                    remappedOptions\n                )\n\n                const extraOptions = { renderLimit: 100000, trueTotals: true }\n\n                const pivotTable = new d2aTable.PivotTable(\n                    refs,\n                    layout,\n                    new d2aResponse(refs, responses[0].response),\n                    extraOptions\n                )\n\n                pivotTable.initialize()\n\n                pivotTable.build()\n\n                this.canvasRef.current.innerHTML = pivotTable.render()\n            }\n\n            this.recreateVisualization()\n\n            this.setState({ isLoading: false })\n        } catch (error) {\n            onError(error)\n        }\n    }\n\n    render() {\n        return (\n            <Fragment>\n                {this.state.isLoading ? <LoadingMask /> : null}\n                <div ref={this.canvasRef} style={this.props.style}>\n                    <style jsx>{pivotTableStyles}</style>\n                </div>\n            </Fragment>\n        )\n    }\n}\n\nPivotPlugin.defaultProps = {\n    config: {},\n    filters: {},\n    style: {},\n    animation: 200,\n    onError: Function.prototype,\n    onResponsesReceived: Function.prototype,\n}\n\nPivotPlugin.propTypes = {\n    config: PropTypes.object.isRequired,\n    d2: PropTypes.object.isRequired,\n    onError: PropTypes.func.isRequired,\n    filters: PropTypes.object,\n    id: PropTypes.number,\n    style: PropTypes.object,\n    onResponsesReceived: PropTypes.func,\n}\n\nexport default PivotPlugin\n","import React from 'react'\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics'\n\nimport ChartPlugin from './ChartPlugin'\nimport PivotPlugin from './PivotPlugin'\n\nconst VisualizationPlugin = props => {\n    if (!props.config.type || props.config.type === VIS_TYPE_PIVOT_TABLE) {\n        return <PivotPlugin {...props} />\n    } else {\n        return <ChartPlugin {...props} />\n    }\n}\n\nexport default VisualizationPlugin\n"],"names":["peId","apiFetchAnalytics","d2","current","options","req","analytics","request","fromModel","withParameters","aggregate","get","rawResponse","response","apiFetchAnalyticsForYearOverYear","yearlySeriesReq","addPeriodDimension","yearlySeries","withSkipData","withSkipMeta","withIncludeMetadataDetails","relativePeriodDate","withRelativePeriodDate","fetch","yearlySeriesRes","requests","yearlySeriesLabels","now","Date","currentDay","getDate","padStart","currentMonth","getMonth","metaData","dimensions","forEach","period","push","items","name","startDate","Promise","all","then","responses","map","res","baseLineLabel","defaultValue","undefined","requestable","baseLineValue","cumulativeValues","domainAxisLabel","hideEmptyRowItems","hideLegend","noSpaceBetweenColumns","percentStackedValues","rangeAxisDecimals","rangeAxisLabel","rangeAxisMaxValue","rangeAxisMinValue","rangeAxisSteps","regressionType","showData","targetLineLabel","targetLineValue","aggregationType","completedOnly","hideSubtitle","hideTitle","sortOrder","subtitle","title","colTotals","colSubTotals","rowTotals","rowSubTotals","showDimensionLabels","hideEmptyColumns","hideEmptyRows","skipRounding","numberType","showHierarchy","legendSet","legendDisplayStyle","displayDensity","fontSize","digitGroupSeparator","paramReportingPeriod","paramOrganisationUnit","paramParentOrganisationUnit","paramGrandParentOrganisationUnit","regression","cumulative","measureCriteria","topLimit","getOptionsForRequest","Object","entries","filter","entry","computeGenericPeriodNames","xAxisRes","reduce","out","pe","length","metadata","genericPeriodNames","periodId","replace","ChartPlugin","props","visualization","filters","option","userOrgUnit","ouIds","ouPath","split","slice","join","config","forDashboard","onResponsesReceived","onChartGenerated","onError","onLoadingComplete","getRequestOptions","extraOptions","dashboard","noData","text","i18n","t","isYearOverYear","type","xAxisLabels","recreateVisualization","animation","visualizationConfig","createVisualization","canvasRef","isSingleValue","getSVGForExport","sourceHeight","sourceWidth","setState","isLoading","React","createRef","Function","prototype","state","renderChart","prevProps","isEqual","id","style","Fragment","Component","defaultProps","propTypes","PropTypes","object","isRequired","func","number","bool","styles","theme","progress","margin","spacing","unit","maxWidth","textAlign","alignSelf","outer","display","justifyContent","height","CircularIndeterminate","classes","withStyles","pivotTableStyles","PivotPlugin","i18nManager","string","appManager","getLegendSetById","getApiPath","uiManager","d2aOptionConfig","d2aConfig","OptionConfig","setI18nManager","init","refs","api","d2aApi","optionConfig","remappedOptions","showColTotals","showRowTotals","showColSubTotals","showRowSubTotals","layout","d2aLayout","renderLimit","trueTotals","pivotTable","d2aTable","PivotTable","d2aResponse","initialize","build","innerHTML","render","renderTable","VisualizationPlugin","VIS_TYPE_PIVOT_TABLE"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,IAAI,GAAG,IAAb;AAEA,AAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAOC,EAAP,EAAWC,OAAX,EAAoBC,OAApB;;;;;;UACvBC,GADuB,GACjB,IAAIH,EAAE,CAACI,SAAH,CAAaC,OAAjB,GACPC,SADO,CACGL,OADH,EAEPM,cAFO,CAEQL,OAFR,CADiB;;0CAKHF,EAAE,CAACI,SAAH,CAAaI,SAAb,CAAuBC,GAAvB,CAA2BN,GAA3B,CALG;;;UAKvBO,WALuB;2CAOtB,CAAC,IAAIV,EAAE,CAACI,SAAH,CAAaO,QAAjB,CAA0BD,WAA1B,CAAD,CAPsB;;;;;;;;CAA1B;AAUP,AAAO,IAAME,gCAAgC,GAAG,SAAnCA,gCAAmC,CAC5CZ,EAD4C,EAE5CC,OAF4C,EAG5CC,OAH4C;;;;;;UAKxCW,eALwC,GAKtB,IAAIb,EAAE,CAACI,SAAH,CAAaC,OAAjB,GACjBS,kBADiB,CACEb,OAAO,CAACc,YADV,EAEjBC,YAFiB,CAEJ,IAFI,EAGjBC,YAHiB,CAGJ,KAHI,EAIjBC,0BAJiB,CAIU,IAJV,CALsB;;cAWxChB,OAAO,CAACiB,kBAAZ,EAAgC;YAC5BN,eAAe,GAAGA,eAAe,CAACO,sBAAhB,CACdlB,OAAO,CAACiB,kBADM,CAAlB;;;;0CAK0BnB,EAAE,CAACI,SAAH,CAAaI,SAAb,CAAuBa,KAAvB,CAA6BR,eAA7B,CAjBc;;;UAiBtCS,eAjBsC;UAmBtCC,QAnBsC,GAmB3B,EAnB2B;UAoBtCC,kBApBsC,GAoBjB,EApBiB;UAsBtCC,GAtBsC,GAsBhC,IAAIC,IAAJ,EAtBgC;UAuBtCC,UAvBsC,GAuBzB,CAAC,KAAKF,GAAG,CAACG,OAAJ,EAAN,EAAqBC,QAArB,CAA8B,CAA9B,EAAiC,CAAjC,CAvByB;UAwBtCC,YAxBsC,GAwBvB,CAAC,MAAML,GAAG,CAACM,QAAJ,KAAiB,CAAvB,CAAD,EAA4BF,QAA5B,CAAqC,CAArC,EAAwC,CAAxC,CAxBuB;UA0B5CP,eAAe,CAACU,QAAhB,CAAyBC,UAAzB,CAAoCnC,IAApC,EAA0CoC,OAA1C,CAAkD,UAAAC,MAAM,EAAI;YACxDX,kBAAkB,CAACY,IAAnB,CAAwBd,eAAe,CAACU,QAAhB,CAAyBK,KAAzB,CAA+BF,MAA/B,EAAuCG,IAA/D;gBAEMC,SAAS,aAAMJ,MAAN,cAAgBL,YAAhB,cAAgCH,UAAhC,CAAf;gBAEMxB,GAAG,GAAG,IAAIH,EAAE,CAACI,SAAH,CAAaC,OAAjB,GACPC,SADO,CACGL,OADH,EAEPM,cAFO,CAEQL,OAFR,EAGPkB,sBAHO,CAGgBmB,SAHhB,CAAZ;YAKAhB,QAAQ,CAACa,IAAT,CAAcpC,EAAE,CAACI,SAAH,CAAaI,SAAb,CAAuBC,GAAvB,CAA2BN,GAA3B,CAAd;WAVJ;4CAaOqC,OAAO,CAACC,GAAR,CAAYlB,QAAZ,EAAsBmB,IAAtB,CAA2B,UAAAC,SAAS;mBAAK;cAC5CA,SAAS,EAAEA,SAAS,CAACC,GAAV,CAAc,UAAAC,GAAG;uBAAI,IAAI7C,EAAE,CAACI,SAAH,CAAaO,QAAjB,CAA0BkC,GAA1B,CAAJ;eAAjB,CADiC;cAE5CrB,kBAAkB,EAAlBA;aAFuC;WAApC,CAvCqC;;;;;;;;CAAzC;;ACVA,IAAMtB,OAAO,GAAG;EACnB4C,aAAa,EAAE;IAAEC,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GADpC;EAEnBC,aAAa,EAAE;IAAEH,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GAFpC;;EAInBE,gBAAgB,EAAE;IAAEJ,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAJnC;EAKnBG,eAAe,EAAE;IAAEL,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GALtC;EAMnBI,iBAAiB,EAAE;IAAEN,YAAY,EAAE,MAAhB;IAAwBE,WAAW,EAAE;GANrC;EAOnBK,UAAU,EAAE;IAAEP,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAP7B;EAQnBM,qBAAqB,EAAE;IAAER,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GARxC;EASnBO,oBAAoB,EAAE;IAAET,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GATvC;EAUnBQ,iBAAiB,EAAE;IAAEV,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GAVxC;EAWnBS,cAAc,EAAE;IAAEX,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GAXrC;EAYnBU,iBAAiB,EAAE;IAAEZ,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GAZxC;EAanBW,iBAAiB,EAAE;IAAEb,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GAbxC;EAcnBY,cAAc,EAAE;IAAEd,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GAdrC;EAenBa,cAAc,EAAE;IAAEf,YAAY,EAAE,MAAhB;IAAwBE,WAAW,EAAE;GAflC;EAgBnBc,QAAQ,EAAE;IAAEhB,YAAY,EAAE,IAAhB;IAAsBE,WAAW,EAAE;GAhB1B;EAiBnBe,eAAe,EAAE;IAAEjB,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GAjBtC;EAkBnBgB,eAAe,EAAE;IAAElB,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GAlBtC;;;EAqBnBiB,eAAe,EAAE;IAAEnB,YAAY,EAAE,SAAhB;IAA2BE,WAAW,EAAE;GArBtC;EAsBnBkB,aAAa,EAAE;IAAEpB,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAtBhC;EAuBnBmB,YAAY,EAAE;IAAErB,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAvB/B;EAwBnBoB,SAAS,EAAE;IAAEtB,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAxB5B;EAyBnBqB,SAAS,EAAE;IAAEvB,YAAY,EAAE,GAAhB;IAAqBE,WAAW,EAAE;GAzB1B;EA0BnBsB,QAAQ,EAAE;IAAExB,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GA1B/B;EA2BnBuB,KAAK,EAAE;IAAEzB,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GA3B5B;;EA8BnBwB,SAAS,EAAE;IAAE1B,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GA9B5B;EA+BnByB,YAAY,EAAE;IAAE3B,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GA/B/B;EAgCnB0B,SAAS,EAAE;IAAE5B,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAhC5B;EAiCnB2B,YAAY,EAAE;IAAE7B,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAjC/B;EAkCnB4B,mBAAmB,EAAE;IAAE9B,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAlCtC;EAmCnB6B,gBAAgB,EAAE;IAAE/B,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAnCnC;EAoCnB8B,aAAa,EAAE;IAAEhC,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GApChC;EAqCnB+B,YAAY,EAAE;IAAEjC,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GArC/B;EAsCnBgC,UAAU,EAAE;IAAElC,YAAY,EAAE,OAAhB;IAAyBE,WAAW,EAAE;GAtC/B;EAuCnBiC,aAAa,EAAE;IAAEnC,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAvChC;EAwCnBkC,SAAS,EAAE;IAAEpC,YAAY,EAAE,MAAhB;IAAwBE,WAAW,EAAE;GAxC7B;;EAyCnBmC,kBAAkB,EAAE;IAAErC,YAAY,EAAE,MAAhB;IAAwBE,WAAW,EAAE;GAzCtC;EA0CnBoC,cAAc,EAAE;IAAEtC,YAAY,EAAE,QAAhB;IAA0BE,WAAW,EAAE;GA1CpC;EA2CnBqC,QAAQ,EAAE;IAAEvC,YAAY,EAAE,QAAhB;IAA0BE,WAAW,EAAE;GA3C9B;EA4CnBsC,mBAAmB,EAAE;IAAExC,YAAY,EAAE,OAAhB;IAAyBE,WAAW,EAAE;GA5CxC;;EA+CnBuC,oBAAoB,EAAE;IAAEzC,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GA/CvC;EAgDnBwC,qBAAqB,EAAE;IAAE1C,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAhDxC;EAiDnByC,2BAA2B,EAAE;IAAE3C,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAjD9C;;EAmDnB0C,gCAAgC,EAAE;IAC9B5C,YAAY,EAAE,KADgB;IAE9BE,WAAW,EAAE;GArDE;EAuDnB2C,UAAU,EAAE;IAAE7C,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAvD7B;EAwDnB4C,UAAU,EAAE;IAAE9C,YAAY,EAAE,KAAhB;IAAuBE,WAAW,EAAE;GAxD7B;EAyDnB6C,eAAe,EAAE;IAAE/C,YAAY,EAAEC,SAAhB;IAA2BC,WAAW,EAAE;GAzDtC;EA0DnB8C,QAAQ,EAAE;IAAEhD,YAAY,EAAE,GAAhB;IAAqBE,WAAW,EAAE;;CA1DzC;AA6DP,AAmBO,IAAM+C,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;SAC/BC,MAAM,CAACC,OAAP,CAAehG,OAAf,EAAwBiG,MAAxB,CACH,UAAAC,KAAK;WAAIA,KAAK,CAAC,CAAD,CAAL,CAASnD,WAAb;GADF;GAAP;CADG;;AClFA,IAAMoD,yBAAyB,GAAG,SAA5BA,yBAA4B,CAAA1D,SAAS,EAAI;MAC5C2D,QAAQ,GAAG3D,SAAS,CAAC4D,MAAV,CAAiB,UAACC,GAAD,EAAM3D,GAAN,EAAc;QACxC2D,GAAG,CAACxE,QAAR,EAAkB;UAEVa,GAAG,CAACb,QAAJ,CAAaC,UAAb,CAAwBwE,EAAxB,CAA2BC,MAA3B,GACAF,GAAG,CAACxE,QAAJ,CAAaC,UAAb,CAAwBwE,EAAxB,CAA2BC,MAF/B,EAGE;QACEF,GAAG,GAAG3D,GAAN;;KALR,MAOO;MACH2D,GAAG,GAAG3D,GAAN;;;WAGG2D,GAAP;GAZa,EAad,EAbc,CAAjB;MAeMG,QAAQ,GAAGL,QAAQ,CAACtE,QAA1B;SAEO2E,QAAQ,CAAC1E,UAAT,CAAoBwE,EAApB,CAAuBF,MAAvB,CAA8B,UAACK,kBAAD,EAAqBC,QAArB,EAAkC;QAC7DvE,IAAI,GAAGqE,QAAQ,CAACtE,KAAT,CAAewE,QAAf,EAAyBvE,IAAtC,CADmE;;;;IAMnEsE,kBAAkB,CAACxE,IAAnB,CAAwBE,IAAI,CAACwE,OAAL,CAAa,WAAb,EAA0B,EAA1B,CAAxB;WAEOF,kBAAP;GARG,EASJ,EATI,CAAP;CAlBG;;ICiBDG;;;;;uBACUC,MAAZ,EAAmB;;;;;qFACTA,MAAN;;wEAoCgB,UAACC,aAAD,EAAgBC,OAAhB,EAA4B;UACtChH,OAAO,GAAG8F,oBAAoB,GAAGO,MAAvB,CACZ,UAAC3D,GAAD,QAA0B;;YAAnBuE,MAAmB;YAAXH,KAAW;;;YAGlBC,aAAa,CAACE,MAAD,CAAb,KAA0BnE,SAA1B,IACAiE,aAAa,CAACE,MAAD,CAAb,KAA0BH,KAAK,CAACjE,YAFpC,EAGE;UACEH,GAAG,CAACuE,MAAD,CAAH,GAAcF,aAAa,CAACE,MAAD,CAA3B;;;eAGGvE,GAAP;OAVQ,EAYZ,EAZY,CAAhB,CAD4C;;UAiBxCsE,OAAO,CAAC/F,kBAAZ,EAAgC;QAC5BjB,OAAO,CAACiB,kBAAR,GAA6B+F,OAAO,CAAC/F,kBAArC;OAlBwC;;;;UAuBxC+F,OAAO,CAACE,WAAR,IAAuBF,OAAO,CAACE,WAAR,CAAoBV,MAA/C,EAAuD;YAC7CW,KAAK,GAAGH,OAAO,CAACE,WAAR,CAAoBxE,GAApB,CACV,UAAA0E,MAAM;iBAAIA,MAAM,CAACC,KAAP,CAAa,GAAb,EAAkBC,KAAlB,CAAwB,CAAC,CAAzB,EAA4B,CAA5B,CAAJ;SADI,CAAd;QAIAtH,OAAO,CAACkH,WAAR,GAAsBC,KAAK,CAACI,IAAN,CAAW,GAAX,CAAtB;;;aAGGvH,OAAP;KApEe;;kEAuEL;;;;;;;4BASN,MAAK8G,KATC,EAEEC,aAFF,eAENS,MAFM,EAGNR,OAHM,eAGNA,OAHM,EAINS,YAJM,eAINA,YAJM,EAKNC,mBALM,eAKNA,mBALM,EAMNC,gBANM,eAMNA,gBANM,EAONC,OAPM,eAONA,OAPM,EAQNC,iBARM,eAQNA,iBARM;;cAYA7H,OAZA,GAYU,MAAK8H,iBAAL,CAAuBf,aAAvB,EAAsCC,OAAtC,CAZV;cAcAe,YAdA,GAce;gBACjBC,SAAS,EAAEP,YADM;gBAEjBQ,MAAM,EAAE;kBAAEC,IAAI,EAAEC,IAAI,CAACC,CAAL,CAAO,SAAP;;eAhBd;cAmBF3F,SAnBE,GAmBU,EAnBV;;mBAqBF4F,wBAAc,CAACtB,aAAa,CAACuB,IAAf,CArBZ;;;;;cAsBEhH,kBAtBF,GAsBuB,EAtBvB;;8CA2BQZ,gCAAgC,CACtC,MAAKoG,KAAL,CAAWhH,EAD2B,EAEtCiH,aAFsC,EAGtC/G,OAHsC,CA3BxC;;;;cAyBEyC,SAzBF,SAyBEA,SAzBF;cA0BEnB,kBA1BF,SA0BEA,kBA1BF;cAiCFyG,YAAY,CAAClH,YAAb,GAA4BS,kBAA5B;cACAyG,YAAY,CAACQ,WAAb,GAA2BpC,yBAAyB,CAAC1D,SAAD,CAApD;;;;;;8CAEkB5C,iBAAiB,CAC/B,MAAKiH,KAAL,CAAWhH,EADoB,EAE/BiH,aAF+B,EAG/B/G,OAH+B,CApCjC;;;cAoCFyC,SApCE;;;kBA2CFA,SAAS,CAAC+D,MAAd,EAAsB;gBAClBkB,mBAAmB,CAACjF,SAAD,CAAnB;;;oBAGC+F,qBAAL,GAA6B,YAAsC;oBAArCC,SAAqC,uEAAzB,MAAK3B,KAAL,CAAW2B,SAAc;oBACzDC,mBAAmB,GAAGC,6BAAmB,CAC3ClG,SAD2C,EAE3CsE,aAF2C,EAG3C,MAAK6B,SAAL,CAAe7I,OAH4B,qBAKpCgI,YALoC;kBAMvCU,SAAS,EAATA;oBAEJ3F,SAR2C,EAS3CA,SAT2C,EAU3C+F,uBAAa,CAAC9B,aAAa,CAACuB,IAAf,CAAb,GAAoC,MAApC,GAA6C,YAVF;iBAA/C;;oBAaIO,uBAAa,CAAC9B,aAAa,CAACuB,IAAf,CAAjB,EAAuC;kBACnCX,gBAAgB,CAACe,mBAAmB,CAAC3B,aAArB,CAAhB;iBADJ,MAEO;kBACHY,gBAAgB,CACZe,mBAAmB,CAAC3B,aAApB,CAAkC+B,eAAlC,CAAkD;oBAC9CC,YAAY,EAAE,GADgC;oBAE9CC,WAAW,EAAE;mBAFjB,CADY,CAAhB;;eAjBR;;oBA0BKR,qBAAL;;oBAEKS,QAAL,CAAc;gBAAEC,SAAS,EAAE;eAA3B;;cACArB,iBAAiB;;;;;;;cAEjBD,OAAO,aAAP;;;;;;;;KArJW;;UAGVgB,SAAL,GAAiBO,cAAK,CAACC,SAAN,EAAjB;UAEKZ,qBAAL,GAA6Ba,QAAQ,CAACC,SAAtC;UAEKC,KAAL,GAAa;MACTL,SAAS,EAAE;KADf;;;;;;wCAKgB;WACXM,WAAL;;;;uCAGeC,WAAW;UACtB,CAACC,OAAO,CAAC,KAAK5C,KAAL,CAAWU,MAAZ,EAAoBiC,SAAS,CAACjC,MAA9B,CAAZ,EAAmD;aAC1CgC,WAAL;;;;UAIA,CAACE,OAAO,CAAC,KAAK5C,KAAL,CAAWE,OAAZ,EAAqByC,SAAS,CAACzC,OAA/B,CAAZ,EAAqD;aAC5CwC,WAAL;;OAPsB;;;UAatB,KAAK1C,KAAL,CAAW6C,EAAX,KAAkBF,SAAS,CAACE,EAA5B,IACA,CAACD,OAAO,CAAC,KAAK5C,KAAL,CAAW8C,KAAZ,EAAmBH,SAAS,CAACG,KAA7B,CAFZ,EAGE;aACOpB,qBAAL,CAA2B,CAA3B,EADF;;;;;;;6BA0HG;aAEDW,6BAACU,cAAD,QACIV;QAAK,GAAG,EAAE,KAAKP,SAAf;QAA0B,KAAK,EAAE,KAAK9B,KAAL,CAAW8C;QADhD,CADJ;;;;;EA3JkBE;;AAmK1BjD,WAAW,CAACkD,YAAZ,GAA2B;EACvBvC,MAAM,EAAE,EADe;EAEvBR,OAAO,EAAE,EAFc;EAGvBS,YAAY,EAAE,KAHS;EAIvBmC,KAAK,EAAE,EAJgB;EAKvBnB,SAAS,EAAE,GALY;EAMvBb,OAAO,EAAEyB,QAAQ,CAACC,SANK;EAOvB3B,gBAAgB,EAAE0B,QAAQ,CAACC,SAPJ;EAQvBzB,iBAAiB,EAAEwB,QAAQ,CAACC,SARL;EASvB5B,mBAAmB,EAAE2B,QAAQ,CAACC;CATlC;AAYAzC,WAAW,CAACmD,SAAZ,GAAwB;EACpBxC,MAAM,EAAEyC,SAAS,CAACC,MAAV,CAAiBC,UADL;EAEpBrK,EAAE,EAAEmK,SAAS,CAACC,MAAV,CAAiBC,UAFD;EAGpBvC,OAAO,EAAEqC,SAAS,CAACG,IAAV,CAAeD,UAHJ;EAIpB1B,SAAS,EAAEwB,SAAS,CAACI,MAJD;EAKpBrD,OAAO,EAAEiD,SAAS,CAACC,MALC;EAMpBzC,YAAY,EAAEwC,SAAS,CAACK,IANJ;EAOpBX,EAAE,EAAEM,SAAS,CAACI,MAPM;EAQpBT,KAAK,EAAEK,SAAS,CAACC,MARG;EASpBvC,gBAAgB,EAAEsC,SAAS,CAACG,IATR;EAUpBvC,iBAAiB,EAAEoC,SAAS,CAACG,IAVT;EAWpB1C,mBAAmB,EAAEuC,SAAS,CAACG;CAXnC;;AC3LA,IAAMG,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;SAAK;IACrBC,QAAQ,EAAE;MACNC,MAAM,EAAEF,KAAK,CAACG,OAAN,CAAcC,IAAd,GAAqB,CADvB;MAENC,QAAQ,EAAE,GAFJ;MAGNC,SAAS,EAAE,QAHL;MAINC,SAAS,EAAE;KALM;IAOrBC,KAAK,EAAE;MACHC,OAAO,EAAE,MADN;MAEHC,cAAc,EAAE,QAFb;MAGHC,MAAM,EAAE;;GAVI;CAApB;;AAcA,SAASC,qBAAT,CAA+BtE,KAA/B,EAAsC;MAC1BuE,OAD0B,GACdvE,KADc,CAC1BuE,OAD0B;SAG9BlC;IAAK,SAAS,EAAEkC,OAAO,CAACL;KACpB7B,6BAAC,gBAAD;IAAkB,SAAS,EAAEkC,OAAO,CAACZ;IADzC,CADJ;;;AAOJW,qBAAqB,CAACpB,SAAtB,GAAkC;EAC9BqB,OAAO,EAAEpB,SAAS,CAACC,MAAV,CAAiBC;CAD9B;AAIA,kBAAemB,mBAAU,CAACf,MAAD,CAAV,CAAmBa,qBAAnB,CAAf;;AC9BO,IAAMG,gBAAgB,uZAAtB;;;ICeDC;;;;;uBACU1E,MAAZ,EAAmB;;;;;qFACTA,MAAN;;wEAoCgB,UAACC,aAAD,EAAgBC,OAAhB,EAA4B;UACtChH,OAAO,GAAG8F,oBAAoB,GAAGO,MAAvB,CACZ,UAAC3D,GAAD,QAA0B;;YAAnBuE,MAAmB;YAAXH,KAAW;;;YAGlBC,aAAa,CAACE,MAAD,CAAb,KAA0BnE,SAA1B,IACAiE,aAAa,CAACE,MAAD,CAAb,KAA0BH,KAAK,CAACjE,YAFpC,EAGE;UACEH,GAAG,CAACuE,MAAD,CAAH,GAAcF,aAAa,CAACE,MAAD,CAA3B;;;eAGGvE,GAAP;OAVQ,EAYZ,EAZY,CAAhB,CAD4C;;UAiBxCsE,OAAO,CAAC/F,kBAAZ,EAAgC;QAC5BjB,OAAO,CAACiB,kBAAR,GAA6B+F,OAAO,CAAC/F,kBAArC;OAlBwC;;;;UAuBxC+F,OAAO,CAACE,WAAR,IAAuBF,OAAO,CAACE,WAAR,CAAoBV,MAA/C,EAAuD;YAC7CW,KAAK,GAAGH,OAAO,CAACE,WAAR,CAAoBxE,GAApB,CACV,UAAA0E,MAAM;iBAAIA,MAAM,CAACC,KAAP,CAAa,GAAb,EAAkBC,KAAlB,CAAwB,CAAC,CAAzB,EAA4B,CAA5B,CAAJ;SADI,CAAd;QAIAtH,OAAO,CAACkH,WAAR,GAAsBC,KAAK,CAACI,IAAN,CAAW,GAAX,CAAtB;;;aAGGvH,OAAP;KApEe;;kEAuEL;;;;;;;4BAMN,MAAK8G,KANC,EAEEC,aAFF,eAENS,MAFM,EAGNR,OAHM,eAGNA,OAHM,EAINU,mBAJM,eAINA,mBAJM,EAKNE,OALM,eAKNA,OALM;cAQJ6D,WARI,GAQU;gBAChBlL,GAAG,EAAE,aAAAmL,MAAM;yBAAIvD,IAAI,CAACC,CAAL,CAAOsD,MAAP,CAAJ;;eATL;cAYJC,UAZI,GAYS;gBACfC,gBAAgB,EAAE;yBAAM,EAAN;iBADH;gBAEfC,UAAU,EAAE;yBAAM,EAAN;;eAdN;cAiBJC,SAjBI,GAiBQ,EAjBR;cAmBJC,eAnBI,GAmBc,IAAIC,iBAAS,CAACC,YAAd,EAnBd;cAoBVF,eAAe,CAACG,cAAhB,CAA+BT,WAA/B;cACAM,eAAe,CAACI,IAAhB;cAEMC,IAvBI,GAuBG;gBACTC,GAAG,EAAEC,cADI;gBAETX,UAAU,EAAVA,UAFS;gBAGTG,SAAS,EAATA,SAHS;gBAITL,WAAW,EAAXA,WAJS;gBAKTc,YAAY,EAAER;eA5BR;;cAgCA/L,OAhCA,GAgCU,MAAK8H,iBAAL,CAAuBf,aAAvB,EAAsCC,OAAtC,CAhCV;;8CAkCkBnH,iBAAiB,CACrC,MAAKiH,KAAL,CAAWhH,EAD0B,EAErCiH,aAFqC,EAGrC/G,OAHqC,CAlCnC;;;cAkCAyC,SAlCA;;kBAwCFA,SAAS,CAAC+D,MAAd,EAAsB;gBAClBkB,mBAAmB,CAACjF,SAAD,CAAnB;;;oBAGC+F,qBAAL,GAA6B,YAAM;oBACzBgE,eAAe,GAAG;kBACpBC,aAAa,EAAE1F,aAAa,CAACxC,SADT;kBAEpBmI,aAAa,EAAE3F,aAAa,CAACtC,SAFT;kBAGpBkI,gBAAgB,EAAE5F,aAAa,CAACvC,YAHZ;kBAIpBoI,gBAAgB,EAAE7F,aAAa,CAACrC,YAJZ;kBAKpBK,UAAU,EAAEgC,aAAa,CAAChC,UAAd,IAA4B,OALpB;;iBAAxB;oBAQM8H,MAAM,GAAG,IAAIC,iBAAJ,CACXV,IADW,EAEXrF,aAFW,EAGXyF,eAHW,CAAf;oBAMMzE,YAAY,GAAG;kBAAEgF,WAAW,EAAE,MAAf;kBAAuBC,UAAU,EAAE;iBAAxD;oBAEMC,UAAU,GAAG,IAAIC,gBAAQ,CAACC,UAAb,CACff,IADe,EAEfS,MAFe,EAGf,IAAIO,mBAAJ,CAAgBhB,IAAhB,EAAsB3J,SAAS,CAAC,CAAD,CAAT,CAAahC,QAAnC,CAHe,EAIfsH,YAJe,CAAnB;gBAOAkF,UAAU,CAACI,UAAX;gBAEAJ,UAAU,CAACK,KAAX;sBAEK1E,SAAL,CAAe7I,OAAf,CAAuBwN,SAAvB,GAAmCN,UAAU,CAACO,MAAX,EAAnC;eA5BJ;;oBA+BKhF,qBAAL;;oBAEKS,QAAL,CAAc;gBAAEC,SAAS,EAAE;eAA3B;;;;;;;;cAEAtB,OAAO,aAAP;;;;;;;;KAtJW;;UAGVgB,SAAL,GAAiBO,cAAK,CAACC,SAAN,EAAjB;UAEKZ,qBAAL,GAA6Ba,QAAQ,CAACC,SAAtC;UAEKC,KAAL,GAAa;MACTL,SAAS,EAAE;KADf;;;;;;wCAKgB;WACXuE,WAAL;;;;uCAGehE,WAAW;UACtB,CAACC,OAAO,CAAC,KAAK5C,KAAL,CAAWU,MAAZ,EAAoBiC,SAAS,CAACjC,MAA9B,CAAZ,EAAmD;aAC1CiG,WAAL;;;;UAIA,CAAC/D,OAAO,CAAC,KAAK5C,KAAL,CAAWE,OAAZ,EAAqByC,SAAS,CAACzC,OAA/B,CAAZ,EAAqD;aAC5CyG,WAAL;;OAPsB;;;UAatB,KAAK3G,KAAL,CAAW6C,EAAX,KAAkBF,SAAS,CAACE,EAA5B,IACA,CAACD,OAAO,CAAC,KAAK5C,KAAL,CAAW8C,KAAZ,EAAmBH,SAAS,CAACG,KAA7B,CAFZ,EAGE;aACOpB,qBAAL,CAA2B,CAA3B,EADF;;;;;;;6BA2HG;aAEDW,6BAACU,cAAD,QACK,KAAKN,KAAL,CAAWL,SAAX,GAAuBC,6BAAC,WAAD,OAAvB,GAAyC,IAD9C,EAEIA;QAAK,GAAG,EAAE,KAAKP,SAAf;QAA0B,KAAK,EAAE,KAAK9B,KAAL,CAAW8C,KAA5C;;;;2BAFJ,CADJ;;;;;EA5JkBE;;AAuK1B0B,WAAW,CAACzB,YAAZ,GAA2B;EACvBvC,MAAM,EAAE,EADe;EAEvBR,OAAO,EAAE,EAFc;EAGvB4C,KAAK,EAAE,EAHgB;EAIvBnB,SAAS,EAAE,GAJY;EAKvBb,OAAO,EAAEyB,QAAQ,CAACC,SALK;EAMvB5B,mBAAmB,EAAE2B,QAAQ,CAACC;CANlC;AASAkC,WAAW,CAACxB,SAAZ,GAAwB;EACpBxC,MAAM,EAAEyC,SAAS,CAACC,MAAV,CAAiBC,UADL;EAEpBrK,EAAE,EAAEmK,SAAS,CAACC,MAAV,CAAiBC,UAFD;EAGpBvC,OAAO,EAAEqC,SAAS,CAACG,IAAV,CAAeD,UAHJ;EAIpBnD,OAAO,EAAEiD,SAAS,CAACC,MAJC;EAKpBP,EAAE,EAAEM,SAAS,CAACI,MALM;EAMpBT,KAAK,EAAEK,SAAS,CAACC,MANG;EAOpBxC,mBAAmB,EAAEuC,SAAS,CAACG;CAPnC;;AC3LA,IAAMsD,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAA5G,KAAK,EAAI;MAC7B,CAACA,KAAK,CAACU,MAAN,CAAac,IAAd,IAAsBxB,KAAK,CAACU,MAAN,CAAac,IAAb,KAAsBqF,8BAAhD,EAAsE;WAC3DxE,6BAAC,WAAD,EAAiBrC,KAAjB,CAAP;GADJ,MAEO;WACIqC,6BAAC,WAAD,EAAiBrC,KAAjB,CAAP;;CAJR;;;;"}