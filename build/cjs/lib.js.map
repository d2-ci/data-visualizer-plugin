{"version":3,"file":"lib.js","sources":["../../src/api/legendSets.js","../../src/ChartPlugin.js","../../src/PivotPlugin.js","../../src/api/analytics.js","../../src/modules/analytics.js","../../src/modules/options.js","../../src/modules/getRequestOptions.js","../../src/modules/fetchData.js","../../src/VisualizationPlugin.js"],"sourcesContent":["const legendSetQuery = {\n    legendSet: {\n        resource: 'legendSets',\n        id: ({ id }) => id,\n    },\n}\n\nexport const apiFetchLegendSet = (dataEngine, id) =>\n    dataEngine.query(legendSetQuery, { variables: { id } })\n","import React, { useRef, useCallback, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport { isSingleValue, createVisualization } from '@dhis2/analytics'\n\nconst ChartPlugin = ({\n    visualization,\n    responses,\n    extraOptions,\n    legendSets,\n    id: renderCounter,\n    style,\n    onChartGenerated,\n    animation: defaultAnimation,\n}) => {\n    const canvasRef = useRef(undefined)\n\n    const renderVisualization = useCallback(\n        animation => {\n            const visualizationConfig = createVisualization(\n                responses,\n                visualization,\n                canvasRef.current,\n                {\n                    ...extraOptions,\n                    animation,\n                    legendSets,\n                },\n                undefined,\n                undefined,\n                isSingleValue(visualization.type) ? 'dhis' : 'highcharts' // output format\n            )\n\n            if (isSingleValue(visualization.type)) {\n                onChartGenerated(visualizationConfig.visualization)\n            } else {\n                onChartGenerated(\n                    visualizationConfig.visualization.getSVGForExport({\n                        sourceHeight: 768,\n                        sourceWidth: 1024,\n                    })\n                )\n            }\n        },\n        [\n            canvasRef,\n            visualization,\n            onChartGenerated,\n            responses,\n            extraOptions,\n            legendSets,\n        ]\n    )\n\n    useEffect(() => {\n        renderVisualization(defaultAnimation)\n\n        /* eslint-disable-next-line react-hooks/exhaustive-deps */\n    }, [visualization, responses, extraOptions])\n\n    useEffect(() => {\n        renderVisualization(0)\n\n        /* eslint-disable-next-line react-hooks/exhaustive-deps */\n    }, [renderCounter, style])\n\n    return <div ref={canvasRef} style={style} />\n}\n\nChartPlugin.defaultProps = {\n    visualization: {},\n    filters: {},\n    style: {},\n    animation: 200,\n    onChartGenerated: Function.prototype,\n}\n\nChartPlugin.propTypes = {\n    extraOptions: PropTypes.object.isRequired,\n    legendSets: PropTypes.arrayOf(PropTypes.object).isRequired,\n    responses: PropTypes.arrayOf(PropTypes.object).isRequired,\n    visualization: PropTypes.object.isRequired,\n    animation: PropTypes.number,\n    id: PropTypes.number,\n    style: PropTypes.object,\n    onChartGenerated: PropTypes.func,\n}\n\nexport default ChartPlugin\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { PivotTable } from '@dhis2/analytics'\n\nconst PivotPlugin = ({ responses, legendSets, visualization, style }) => {\n    return (\n        <div style={{ width: '100%', height: '100%', ...style }}>\n            <PivotTable\n                visualization={visualization}\n                data={responses[0].response}\n                legendSets={legendSets}\n            />\n        </div>\n    )\n}\n\nPivotPlugin.defaultProps = {\n    style: {},\n}\n\nPivotPlugin.propTypes = {\n    legendSets: PropTypes.arrayOf(PropTypes.object).isRequired,\n    responses: PropTypes.arrayOf(PropTypes.object).isRequired,\n    visualization: PropTypes.object.isRequired,\n    style: PropTypes.object,\n}\n\nexport default PivotPlugin\n","const peId = 'pe'\n\nexport const apiFetchAnalytics = async (d2, current, options) => {\n    const req = new d2.analytics.request()\n        .fromModel(current)\n        .withParameters(options)\n\n    const rawResponse = await d2.analytics.aggregate.get(req)\n\n    return [new d2.analytics.response(rawResponse)]\n}\n\nexport const apiFetchAnalyticsForYearOverYear = async (\n    d2,\n    current,\n    options\n) => {\n    let yearlySeriesReq = new d2.analytics.request()\n        .addPeriodDimension(current.yearlySeries)\n        .withSkipData(true)\n        .withSkipMeta(false)\n        .withIncludeMetadataDetails(true)\n\n    if (options.relativePeriodDate) {\n        yearlySeriesReq = yearlySeriesReq.withRelativePeriodDate(\n            options.relativePeriodDate\n        )\n    }\n\n    const yearlySeriesRes = await d2.analytics.aggregate.fetch(yearlySeriesReq)\n\n    const requests = []\n    const yearlySeriesLabels = []\n\n    const now = new Date()\n    const currentDay = ('' + now.getDate()).padStart(2, 0)\n    const currentMonth = ('' + (now.getMonth() + 1)).padStart(2, 0)\n\n    yearlySeriesRes.metaData.dimensions[peId].forEach(period => {\n        yearlySeriesLabels.push(yearlySeriesRes.metaData.items[period].name)\n\n        const startDate = `${period}-${currentMonth}-${currentDay}`\n\n        const req = new d2.analytics.request()\n            .fromModel(current)\n            .withParameters(options)\n            .withRelativePeriodDate(startDate)\n\n        requests.push(d2.analytics.aggregate.get(req))\n    })\n\n    return Promise.all(requests).then(responses => ({\n        responses: responses.map(res => new d2.analytics.response(res)),\n        yearlySeriesLabels,\n    }))\n}\n","export const computeGenericPeriodNames = responses => {\n    const xAxisRes = responses.reduce((out, res) => {\n        if (out.metaData) {\n            if (\n                res.metaData.dimensions.pe.length >\n                out.metaData.dimensions.pe.length\n            ) {\n                out = res\n            }\n        } else {\n            out = res\n        }\n\n        return out\n    }, {})\n\n    const metadata = xAxisRes.metaData\n\n    return metadata.dimensions.pe.reduce((genericPeriodNames, periodId) => {\n        const name = metadata.items[periodId].name\n\n        // until the day the backend will support this in the API:\n        // trim off the trailing year in the period name\n        // english names should all have the year at the end of the string\n        genericPeriodNames.push(name.replace(/\\s+\\d{4}$/, ''))\n\n        return genericPeriodNames\n    }, [])\n}\n","import pick from 'lodash-es/pick'\n\nexport const options = {\n    baseLineLabel: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    baseLineValue: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    // colorSet:\n    cumulativeValues: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    domainAxisLabel: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    hideEmptyRowItems: {\n        defaultValue: 'NONE',\n        requestable: false,\n        savable: true,\n    },\n    hideLegend: { defaultValue: false, requestable: false, savable: true },\n    noSpaceBetweenColumns: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    percentStackedValues: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    rangeAxisDecimals: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    rangeAxisLabel: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    rangeAxisMaxValue: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    rangeAxisMinValue: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    rangeAxisSteps: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    regressionType: { defaultValue: 'NONE', requestable: false, savable: true },\n    showData: { defaultValue: true, requestable: false, savable: true },\n    targetLineLabel: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    targetLineValue: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    aggregationType: {\n        defaultValue: 'DEFAULT',\n        requestable: true,\n        savable: true,\n    },\n    completedOnly: { defaultValue: false, requestable: true, savable: true },\n    hideSubtitle: { defaultValue: false, requestable: false, savable: true },\n    hideTitle: { defaultValue: false, requestable: false, savable: true },\n    sortOrder: { defaultValue: '0', requestable: false, savable: true },\n    subtitle: { defaultValue: undefined, requestable: false, savable: true },\n    title: { defaultValue: undefined, requestable: false, savable: true },\n\n    // only for PT XXX\n    colTotals: { defaultValue: false, requestable: false, savable: true },\n    colSubTotals: { defaultValue: false, requestable: false, savable: true },\n    rowTotals: { defaultValue: false, requestable: false, savable: true },\n    rowSubTotals: { defaultValue: false, requestable: false, savable: true },\n    showDimensionLabels: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    hideEmptyColumns: { defaultValue: false, requestable: true, savable: true },\n    hideEmptyRows: { defaultValue: false, requestable: true, savable: true },\n    skipRounding: { defaultValue: false, requestable: true, savable: true },\n    numberType: { defaultValue: 'VALUE', requestable: false, savable: true },\n    showHierarchy: { defaultValue: false, requestable: true, savable: true },\n    legendSet: { defaultValue: undefined, requestable: false, savable: true },\n    legendDisplayStrategy: {\n        defaultValue: undefined,\n        requestable: false,\n        savable: true,\n    },\n    legendDisplayStyle: {\n        defaultValue: 'FILL',\n        requestable: false,\n        savable: true,\n    },\n    displayDensity: {\n        defaultValue: 'NORMAL',\n        requestable: false,\n        savable: true,\n    },\n    fontSize: { defaultValue: 'NORMAL', requestable: false, savable: true },\n    digitGroupSeparator: {\n        defaultValue: 'SPACE',\n        requestable: false,\n        savable: true,\n    },\n    approvalLevel: {\n        defaultValue: undefined,\n        requestable: true,\n        savable: false,\n    },\n\n    // these are stored in the AO under reportingParams\n    reportingPeriod: { defaultValue: false, requestable: false, savable: true },\n    organisationUnit: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    parentOrganisationUnit: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    // not exposed in UI\n    grandParentOrganisationUnit: {\n        defaultValue: false,\n        requestable: false,\n        savable: true,\n    },\n    regression: { defaultValue: false, requestable: false, savable: true },\n    cumulative: { defaultValue: false, requestable: false, savable: true },\n    measureCriteria: {\n        defaultValue: undefined,\n        requestable: true,\n        savable: true,\n    },\n    topLimit: { defaultValue: '0', requestable: false, savable: true },\n}\n\nexport const computedOptions = {\n    baseLine: { defaultValue: false, requestable: false, savable: false },\n    targetLine: { defaultValue: false, requestable: false, savable: false },\n    axisRange: { defaultValue: undefined, requestable: false, savable: false },\n}\n\nexport default options\n\nexport const getOptionsForUi = () => {\n    return Object.entries({ ...options, ...computedOptions }).reduce(\n        (map, [option, props]) => {\n            map[option] = props.defaultValue\n\n            return map\n        },\n        {}\n    )\n}\n\nexport const getOptionsForRequest = () => {\n    return Object.entries(options).filter(\n        entry => entry[1].requestable // entry = [option, props]\n    )\n}\n\nconst isNotDefault = (optionsFromVisualization, prop) => {\n    return Boolean(\n        optionsFromVisualization[prop] &&\n            optionsFromVisualization[prop] !== options[prop].defaultValue\n    )\n}\n\nexport const getOptionsFromVisualization = visualization => {\n    const optionsFromVisualization = {\n        ...getOptionsForUi(),\n        ...pick(visualization, Object.keys(options)),\n    }\n\n    optionsFromVisualization.baseLine =\n        isNotDefault(optionsFromVisualization, 'baseLineLabel') ||\n        isNotDefault(optionsFromVisualization, 'baseLineValue')\n\n    optionsFromVisualization.targetLine =\n        isNotDefault(optionsFromVisualization, 'targetLineLabel') ||\n        isNotDefault(optionsFromVisualization, 'targetLineValue')\n\n    // nested options under reportingParams\n    if (visualization.reportingParams) {\n        optionsFromVisualization.organisationUnit =\n            visualization.reportingParams.organisationUnit\n        optionsFromVisualization.reportingPeriod =\n            visualization.reportingParams.reportingPeriod\n        optionsFromVisualization.parentOrganisationUnit =\n            visualization.reportingParams.parentOrganisationUnit\n        optionsFromVisualization.grandParentOrganisationUnit =\n            visualization.reportingParams.grandParentOrganisationUnit\n    }\n\n    // cast option values from Number for some options\n    ;['baseLineValue', 'targetLineValue', 'sortOrder', 'topLimit'].forEach(\n        option => {\n            if (Object.prototype.hasOwnProperty.call(visualization, option)) {\n                optionsFromVisualization[option] = String(visualization[option])\n            }\n        }\n    )\n\n    return optionsFromVisualization\n}\n","import { getOptionsForRequest } from './options'\n\nexport const getRequestOptions = (visualization, filters) => {\n    const options = getOptionsForRequest().reduce((map, [option, props]) => {\n        // only add parameter if value !== default\n        if (\n            visualization[option] !== undefined &&\n            visualization[option] !== props.defaultValue\n        ) {\n            map[option] = visualization[option]\n        }\n\n        return map\n    }, {})\n\n    // interpretation filter\n    if (filters.relativePeriodDate) {\n        options.relativePeriodDate = filters.relativePeriodDate\n    }\n\n    // global filters\n    // userOrgUnit\n    if (filters.userOrgUnit && filters.userOrgUnit.length) {\n        const ouIds = filters.userOrgUnit.map(\n            ouPath => ouPath.split('/').slice(-1)[0]\n        )\n\n        options.userOrgUnit = ouIds.join(';')\n    }\n\n    return options\n}\n","import i18n from '@dhis2/d2-i18n'\nimport { isYearOverYear } from '@dhis2/analytics'\nimport {\n    apiFetchAnalyticsForYearOverYear,\n    apiFetchAnalytics,\n} from '../api/analytics'\nimport { computeGenericPeriodNames } from './analytics'\nimport { getRequestOptions } from './getRequestOptions'\n\nexport const fetchData = async ({\n    visualization,\n    filters,\n    d2,\n    forDashboard,\n}) => {\n    const options = getRequestOptions(visualization, filters)\n\n    const extraOptions = {\n        dashboard: forDashboard,\n        noData: { text: i18n.t('No data') },\n    }\n\n    if (isYearOverYear(visualization.type)) {\n        const {\n            responses,\n            yearlySeriesLabels,\n        } = await apiFetchAnalyticsForYearOverYear(d2, visualization, options)\n\n        return {\n            responses,\n            extraOptions: {\n                ...extraOptions,\n                yearlySeries: yearlySeriesLabels,\n                xAxisLabels: computeGenericPeriodNames(responses),\n            },\n        }\n    }\n\n    return {\n        responses: await apiFetchAnalytics(d2, visualization, options),\n        extraOptions,\n    }\n}\n","import React, { useEffect, useState, useCallback } from 'react'\nimport { VIS_TYPE_PIVOT_TABLE } from '@dhis2/analytics'\nimport { useDataEngine } from '@dhis2/app-runtime'\nimport PropTypes from 'prop-types'\n\nimport { apiFetchLegendSet } from './api/legendSets'\nimport ChartPlugin from './ChartPlugin'\nimport PivotPlugin from './PivotPlugin'\nimport { fetchData } from './modules/fetchData'\n\nexport const VisualizationPlugin = ({\n    d2,\n    visualization,\n    filters,\n    forDashboard,\n    onError,\n    onLoadingComplete,\n    onResponsesReceived,\n    ...props\n}) => {\n    const engine = useDataEngine()\n    const [fetchResult, setFetchResult] = useState(null)\n\n    const doFetchData = useCallback(async () => {\n        const result = await fetchData({\n            visualization,\n            filters,\n            d2,\n            forDashboard,\n        })\n\n        if (result.responses.length) {\n            onResponsesReceived(result.responses)\n        }\n\n        return result\n    }, [d2, filters, forDashboard, onResponsesReceived, visualization])\n\n    const doFetchLegendSets = useCallback(async () => {\n        if (!visualization.legendSet || !visualization.legendSet.id) {\n            return []\n        }\n\n        const response = await apiFetchLegendSet(\n            engine,\n            visualization.legendSet.id\n        )\n\n        if (response && response.legendSet) {\n            return [response.legendSet]\n        }\n    }, [engine, visualization.legendSet])\n\n    useEffect(() => {\n        setFetchResult(null)\n        const doFetchAll = async () => {\n            const { responses, extraOptions } = await doFetchData(\n                visualization,\n                filters,\n                forDashboard\n            )\n            const legendSets = await doFetchLegendSets()\n\n            setFetchResult({\n                visualization,\n                legendSets,\n                responses,\n                extraOptions,\n            })\n            onLoadingComplete()\n        }\n\n        doFetchAll().catch(error => {\n            onError(error)\n        })\n\n        /* eslint-disable-next-line react-hooks/exhaustive-deps */\n    }, [visualization, filters, forDashboard])\n\n    if (!fetchResult) {\n        return null\n    }\n\n    if (\n        !fetchResult.visualization.type ||\n        fetchResult.visualization.type === VIS_TYPE_PIVOT_TABLE\n    ) {\n        return (\n            <PivotPlugin\n                visualization={fetchResult.visualization}\n                responses={fetchResult.responses}\n                legendSets={fetchResult.legendSets}\n                {...props}\n            />\n        )\n    } else {\n        return (\n            <ChartPlugin\n                visualization={fetchResult.visualization}\n                responses={fetchResult.responses}\n                extraOptions={fetchResult.extraOptions}\n                legendSets={fetchResult.legendSets}\n                {...props}\n            />\n        )\n    }\n}\n\nVisualizationPlugin.defaultProps = {\n    filters: {},\n    forDashboard: false,\n    onError: Function.prototype,\n    onLoadingComplete: Function.prototype,\n    onResponsesReceived: Function.prototype,\n    visualization: {},\n}\nVisualizationPlugin.propTypes = {\n    d2: PropTypes.object.isRequired,\n    visualization: PropTypes.object.isRequired,\n    filters: PropTypes.object,\n    forDashboard: PropTypes.bool,\n    onError: PropTypes.func,\n    onLoadingComplete: PropTypes.func,\n    onResponsesReceived: PropTypes.func,\n}\n"],"names":["legendSetQuery","legendSet","resource","id","apiFetchLegendSet","dataEngine","query","variables","ChartPlugin","visualization","responses","extraOptions","legendSets","renderCounter","style","onChartGenerated","defaultAnimation","animation","canvasRef","useRef","undefined","renderVisualization","useCallback","visualizationConfig","createVisualization","current","isSingleValue","type","getSVGForExport","sourceHeight","sourceWidth","useEffect","React","defaultProps","filters","Function","prototype","propTypes","PropTypes","object","isRequired","arrayOf","number","func","PivotPlugin","width","height","PivotTable","response","peId","apiFetchAnalytics","d2","options","req","analytics","request","fromModel","withParameters","aggregate","get","rawResponse","apiFetchAnalyticsForYearOverYear","yearlySeriesReq","addPeriodDimension","yearlySeries","withSkipData","withSkipMeta","withIncludeMetadataDetails","relativePeriodDate","withRelativePeriodDate","fetch","yearlySeriesRes","requests","yearlySeriesLabels","now","Date","currentDay","getDate","padStart","currentMonth","getMonth","metaData","dimensions","forEach","period","push","items","name","startDate","Promise","all","then","map","res","computeGenericPeriodNames","xAxisRes","reduce","out","pe","length","metadata","genericPeriodNames","periodId","replace","baseLineLabel","defaultValue","requestable","savable","baseLineValue","cumulativeValues","domainAxisLabel","hideEmptyRowItems","hideLegend","noSpaceBetweenColumns","percentStackedValues","rangeAxisDecimals","rangeAxisLabel","rangeAxisMaxValue","rangeAxisMinValue","rangeAxisSteps","regressionType","showData","targetLineLabel","targetLineValue","aggregationType","completedOnly","hideSubtitle","hideTitle","sortOrder","subtitle","title","colTotals","colSubTotals","rowTotals","rowSubTotals","showDimensionLabels","hideEmptyColumns","hideEmptyRows","skipRounding","numberType","showHierarchy","legendDisplayStrategy","legendDisplayStyle","displayDensity","fontSize","digitGroupSeparator","approvalLevel","reportingPeriod","organisationUnit","parentOrganisationUnit","grandParentOrganisationUnit","regression","cumulative","measureCriteria","topLimit","getOptionsForRequest","Object","entries","filter","entry","getRequestOptions","option","props","userOrgUnit","ouIds","ouPath","split","slice","join","fetchData","forDashboard","dashboard","noData","text","i18n","t","isYearOverYear","xAxisLabels","VisualizationPlugin","onError","onLoadingComplete","onResponsesReceived","engine","useDataEngine","useState","fetchResult","setFetchResult","doFetchData","result","doFetchLegendSets","doFetchAll","catch","error","VIS_TYPE_PIVOT_TABLE","bool"],"mappings":"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"}